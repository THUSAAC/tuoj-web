<div class='page-header'>
	<h1>评测详情</h1>
</div>
<div class='row'>
	<table class='table table-striped table-hover'>
		<thead>
			<th>#</th>
			<th>用户</th>
			<th>题目</th>
			<th>语言</th>
			<th>状态</th>
			<th>得分</th>
			<th>时间</th>
		</thead>
		<tbody>
			<tr>
				<td>{{ rec._id }}</td>
				<td>{{ rec.user.username }}</td>
				<td><a href='/#!/contest/{{ contestId }}/problem/{{ rec.problem_id }}'>{{ rec.problem.title }}</a></td>
				<td>{{ rec.lang }}</td>
				<td><label class='label label-{{ rec.status | statusClass }}'>{{ rec.status }}</label></td>
				<td>{{ rec.score ? rec.score : 'Invisible' }}</td>
				<td>{{ rec.submitted_time | date:'yyyy-MM-dd hh:mm:ss a' }}</td>
			</tr>
		</tbody>
	</table>
</div>
<div class='row' ng-repeat='ans in answers track by $index'>
	<p>{{ ans.num }} in {{ ans.lang }}</p>
	<pre><code class='{{ ans.lang | langClass }}' id='code{{ ans.num }}'>{{ ans.code }}</code></pre>
</div>
<div class='row'>
	<div class='form-group'>
		<button class='btn btn-default' ng-click='fetch()'>
			<i class='glyphicon glyphicon-refresh'></i>
		</button>
		<button class='btn btn-default' ng-click='rejudge(runId)'>重测</button>
	</div>
	<table class='table table-hover table-striped'>
		<thead>
			<th>#</th>
			<th>状态</th>
			<th>时间</th>
			<th>空间</th>
			<th>得分</th>
			<th>评测信息</th>
		</thead>
		<tbody>
			<tr ng-repeat='case in cases'>
				<td>{{ $index }}</td>
				<td><label class='label label-{{ case.status | statusClass }}'>{{ case.status }}</label></td>
				<td>{{ case.time !== undefined ? case.time + ' ms' : '-'}}</td>
				<td>{{ case.mem !== undefined ? case.mem + ' MB' : '-' }}</td>
				<td>{{ case.score !== undefined ? case.score : '-' }}</td>
				<td>{{ case.extInfo }}</td>
			</tr>
		</tbody>
	</table>
</div>

