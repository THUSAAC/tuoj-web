<div ng-include="'/modules/contest/nav.html'"></div>
<div class='page-header'>
	<h1>评测详情</h1>
</div>
<div class='row'>
	<table class='table table-striped table-hover'>
		<thead>
			<th>用户</th>
			<th>题目</th>
			<th>语言</th>
			<th>状态</th>
			<th>得分</th>
			<th>时间</th>
		</thead>
		<tbody>
			<tr>
				<td>{{ rec.username }}</td>
				<td><a href='/#!/contest/{{ contestId }}/problem/{{ rec.problem.id }}'>{{ rec.problem.title }}</a></td>
				<td>{{ rec.lang }}</td>
				<td><label class='label label-info'>{{ rec.status }}</label></td>
				<td>{{ rec.score ? rec.score : '-' }}</td>
				<td>{{ rec.time | date:'yyyy-mm-dd hh:mm:ss a' }}</td>
			</tr>
		</tbody>
	</table>
</div>
<div class='row' ng-repeat='ans in rec.answers'>
	<pre><code class='{{ ans.langClass }}'>{{ ans.code }}</code></pre>
</div>
<div class='row'>
	<div class='form-group'>
		<button class='btn btn-default' ng-click='fetch()'>
			<i class='glyphicon glyphicon-refresh'></i>
		</button>
	</div>
	<table class='table table-hover table-striped'>
		<thead>
			<th>#</th>
			<th>状态</th>
			<th>时间</th>
			<th>空间</th>
			<th>得分</th>
			<th>评测信息</th>
		</thead>
		<tbody>
			<tr ng-repeat='case in rec.cases'>
				<td>{{ $index }}</td>
				<td><label class='label label-{{ case.status | statusClass }}'>{{ case.status }}</label></td>
				<td>{{ case.time !== undefined ? case.time + ' ms' : '-'}}</td>
				<td>{{ case.mem !== undefined ? case.mem + ' MB' : '-' }}</td>
				<td>{{ case.score !== undefined ? case.score : '-' }}</td>
				<td>{{ case.extInfo }}</td>
			</tr>
		</tbody>
	</table>
</div>

